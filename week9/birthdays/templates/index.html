{% extends "layout.html" %}

{% block title %}Birthdays{% endblock %}

{% block content %}

<div class="container">
    <div class="section">

        <h2>Add a Birthday</h2>
        <!-- TODO: Create a form for users to submit a name, a month, and a day -->
            <form action="/" method="post">
            <input name="name" type="text" placeholder="Name" required autofocus>
            <input name="month" type="number" min="1" max="12" placeholder="Month" required>
            <input name="day" type="number" min="1" max="31" placeholder="Day" required>
            <button type="submit">Submit</button>
            </form>

    </div>

    <div class="section">

        <h2>All Birthdays</h2>
        <table>
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Birthday</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                <!-- TODO: Loop through the database entries to display them in this table -->
                {% for bday in birthdays %}
                <tr>
                    <td>{{bday.name}}</td>
                    <td>{{bday.day}}/{{bday.month}}</td>
                    <td>
                        <form action="/delete" method="post" style="display:inline">
                            <input type="hidden" name="id" value="{{ bday.id }}">
                            <button type="submit">Delete</button>
                        </form>
                    </td>
                    <td>
                        <a href="{{ url_for('edit', birthday_id=bday.id) }}">
                            <button type="button">Edit</button>
                        </a>
                    </td>

                </tr>
                {% endfor %}

            </tbody>
        </table>
    </div>
</div>

{% endblock %}
